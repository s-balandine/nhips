BEFORE RECORD
  IF (Q1001 = .) THEN
    LET Q1001=Unnamed
  ENDIF
  IF (Q1002 = .) THEN
    LET Q1002=Unnamed
  ENDIF
END

AFTER RECORD
  IF (RECID = .) THEN
    HELP " must be entered" TYPE=ERROR
    GOTO RECID
    EXIT
  ENDIF
  IF (Q1001 = .) THEN
    HELP "Firstname must be entered" TYPE=ERROR
    GOTO Q1001
    EXIT
  ENDIF
  IF (Q1002 = .) THEN
    HELP "Lastname must be entered" TYPE=ERROR
    GOTO Q1002
    EXIT
  ENDIF
END

RECID
  KEY UNIQUE 1
  KEY 2
END

Q1001
  MUSTENTER
  AFTER ENTRY
    LET RECID=COPY(Q1001, 1, 1) + "." + Q1002
  END
END

Q1002
  MUSTENTER
  AFTER ENTRY
    LET RECID=COPY(Q1001, 1, 1) + "." + Q1002
  END
END

